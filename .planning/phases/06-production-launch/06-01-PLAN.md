---
phase: 06-production-launch
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - .gitignore
autonomous: true
user_setup: []

must_haves:
  truths:
    - "Code is pushed to a GitHub repository"
    - "Project is linked to Vercel"
    - "A preview deployment is live and accessible"
  artifacts:
    - path: ".gitignore"
      provides: "Git ignore rules ensuring no secrets or node_modules are committed"
      contains: ".env.local"
    - path: ".vercel/project.json"
      provides: "Vercel project link configuration"
      contains: "projectId"
  key_links:
    - from: "GitHub repository"
      to: "Vercel project"
      via: "Vercel CLI link"
      pattern: "vercel link"
---

<objective>
Deploy the Jamaica House Brand site to Vercel with a preview URL.

Purpose: Establish the deployment pipeline so production configuration (Plan 02) and validation (Plan 03) can proceed.
Output: A live preview deployment on Vercel's default domain (*.vercel.app), GitHub repo created and linked.
</objective>

<execution_context>
@/Users/rfmstaff/.claude/get-shit-done/workflows/execute-plan.md
@/Users/rfmstaff/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@/Users/rfmstaff/Desktop/jamaica-house-brand/package.json
@/Users/rfmstaff/Desktop/jamaica-house-brand/next.config.ts
@/Users/rfmstaff/Desktop/jamaica-house-brand/.env.local
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create GitHub repository and push code</name>
  <files>.gitignore</files>
  <action>
    1. Verify `.gitignore` includes `.env.local`, `.env*.local`, `node_modules/`, `.next/`, `.vercel/`. If missing any, add them.
    2. Create a new GitHub repository using `gh repo create jamaica-house-brand --public --source=/Users/rfmstaff/Desktop/jamaica-house-brand --push`. If `gh` is not authenticated, this becomes a checkpoint:human-action for the user to run `gh auth login` first. If `gh` is not installed, install it via `brew install gh`.
    3. Verify the push was successful with `git log --oneline -1 origin/main`.

    NOTE: If the repo already exists on GitHub (e.g., from a prior attempt), skip creation and just add the remote and push.
  </action>
  <verify>Run `gh repo view --json url` and confirm the repo URL is returned. Run `git remote -v` and confirm origin points to GitHub.</verify>
  <done>Code is pushed to GitHub with all commits preserved. Remote "origin" is configured.</done>
</task>

<task type="auto">
  <name>Task 2: Install Vercel CLI, link project, and deploy preview</name>
  <files></files>
  <action>
    1. Install Vercel CLI globally: `npm install -g vercel`. If already installed, skip.
    2. Verify Vercel CLI auth: run `vercel whoami`. If not authenticated, this becomes a dynamic checkpoint for the user to run `vercel login`.
    3. Link the project to Vercel: `cd /Users/rfmstaff/Desktop/jamaica-house-brand && vercel link --yes`. This creates `.vercel/project.json`.
    4. Deploy a preview build: `vercel --yes` (without --prod flag, so it's a preview deployment).
    5. Capture the preview URL from the output.
    6. Verify the preview URL is accessible: `curl -s -o /dev/null -w "%{http_code}" <preview-url>` should return 200 or 308 (redirect).

    NOTE: The preview deployment will NOT have correct env vars yet (Stripe keys are placeholders). That's expected -- Plan 02 handles production env vars. The site should render but checkout will fail.
  </action>
  <verify>Run `vercel ls` and confirm the project appears with a deployment. Visit the preview URL in output and confirm pages render (even if checkout doesn't work due to placeholder keys).</verify>
  <done>Vercel project exists with at least one preview deployment. Preview URL is accessible and pages render.</done>
</task>

</tasks>

<verification>
- `gh repo view --json url` returns a valid GitHub URL
- `git remote -v` shows origin pointing to GitHub
- `vercel ls` shows the project with a deployment
- Preview URL returns HTTP 200 on the homepage
</verification>

<success_criteria>
Code is on GitHub, project is linked to Vercel, and a preview deployment is live. This establishes the deployment pipeline for production configuration in Plan 02.
</success_criteria>

<output>
After completion, create `.planning/phases/06-production-launch/06-01-SUMMARY.md`
</output>
